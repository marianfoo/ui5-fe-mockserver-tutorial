# yaml-language-server: $schema=https://sap.github.io/ui5-tooling/schema/ui5.yaml.json

specVersion: "3.1"
metadata:
  name: com.devtoberfest.mockserver.ex9
type: application
server:
  customMiddleware:
    - name: fiori-tools-proxy
      afterMiddleware: compression
      configuration:
        ignoreCertErrors: false # If set to true, certificate errors will be ignored. E.g. self-signed certificates will be accepted
        ui5:
          path:
            - /resources
            - /test-resources
          url: https://ui5.sap.com
        backend:
          - path: /bookshop
            url: http://localhost:4004
    - name: fiori-tools-preview
      afterMiddleware: compression
      configuration:
        flp:
          theme: sap_horizon
    - name: ui5-middleware-odata-recorder
      beforeMiddleware: fiori-tools-proxy
      configuration:
        controlEndpoints: true # default: true - Enable /__recorder/* HTTP endpoints
        autoSave: "stream" # default: "stream" - Options: "stream" | "onStop"
        writeMetadata: true # default: true - Capture and write $metadata
        # defaultTenant: "100"          # default: "100" - Default no tenant if not in request
        debug: true # default: false - Enable debug logging
        redact: [] # default: [] - Field names to remove from entities (e.g. ["Token", "Password"])
        services:
          - alias: mainService
            version: v4
            basePath: /bookshop/
            targetDir: webapp/localService/mainService/data
